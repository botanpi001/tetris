<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tetris</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;500;700&display=swap" rel="stylesheet">
</head>

<body>
    <div id="app">
        <!-- Left Column: Hold -> Pause -> Rot L -> Move L -->
        <div class="col-left">
            <div class="panel-box hold-piece">
                <h2>HOLD</h2>
                <canvas id="hold-canvas" width="80" height="80"></canvas>
            </div>

            <button id="btn-hold" class="control-btn secondary-btn" aria-label="Hold" style="display:none;">
                <!-- Hidden button logic if needed, but we use the panel for display. 
                     The actual hold interaction might be better as a button. 
                     User asked for "Hold displayed block" at top. 
                     Let's make the Hold panel clickable or add a button? 
                     User said "Hold button" in previous request, but "Hold displayed block" in this one.
                     I will make the Hold panel act as the button or place a button near it.
                     Actually, user said "Hold displayed block" (noun) at top. 
                     And "Pause button" below it.
                     Let's keep the Hold functionality on a button or the panel itself.
                     For now, I'll add a specific Hold button below the display or make the display clickable.
                     Let's stick to the list: Hold Display -> Pause Button -> Rot L -> Move L.
                     Wait, standard Tetris has Hold as a display AND a trigger.
                     I will add a Hold Button separately or integrate it.
                     User list: "Move L (bottom), Rot L (above), Pause (above), Hold Display (top)".
                     So Hold Display is at the very top.
                     Where is the Hold BUTTON? Maybe the display IS the button.
                     I will add a specific Hold button to be safe, or make the panel clickable.
                     Let's add a Hold button just below the display or integrated.
                     Actually, let's look at the right side: "Next Display (top), Drop (below)..."
                     So top items are displays.
                     I will make the Hold Display clickable to Swap.
                -->
        </div>

        <div class="control-stack">
            <!-- Top to Bottom visually in the stack, but user said "Bottom to Top" for the list.
                      So Top of stack is Hold Display.
                      Below that is Pause.
                      Below that is Rot L.
                      Bottom is Move L.
                 -->

            <!-- 1. Hold Display (Clickable) -->
            <button id="btn-hold" class="panel-btn" aria-label="Hold">
                <h2>HOLD</h2>
                <canvas id="hold-canvas" width="60" height="60"></canvas>
            </button>

            <!-- 2. Pause -->
            <button id="btn-pause" class="control-btn secondary-btn" aria-label="Pause">
                <svg viewBox="0 0 24 24" width="24" height="24">
                    <path fill="currentColor" d="M6 19h4V5H6v14zm8-14v14h4V5h-4z" />
                </svg>
                <span>PAUSE</span>
            </button>

            <!-- 3. Rotate Left -->
            <button id="btn-rot-l" class="control-btn action-btn rot-btn" aria-label="Rotate Left">
                <svg viewBox="0 0 24 24" width="40" height="40">
                    <path fill="currentColor"
                        d="M7.11 8.53L5.7 7.11C4.8 8.27 4.24 9.61 4.07 11h2.02c.14-.87.49-1.72 1.02-2.47zM6.09 13H4.07c.17 1.39.72 2.73 1.62 3.89l1.41-1.42c-.52-.75-.87-1.59-1.01-2.47zm1.01 5.32c1.16.9 2.51 1.44 3.9 1.61V17.9c-.87-.15-1.71-.49-2.46-1.03L7.1 18.32zM13 4.07V1L8.45 5.55 13 10V6.09c2.84.48 5 2.94 5 5.91s-2.16 5.43-5 5.91v2.02c3.95-.49 7-3.85 7-7.93s-3.05-7.44-7-7.93z" />
                </svg>
            </button>

            <!-- 4. Move Left -->
            <button id="btn-left" class="control-btn d-btn move-btn" aria-label="Left">
                <svg viewBox="0 0 24 24" width="48" height="48">
                    <path fill="currentColor" d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z" />
                </svg>
            </button>
        </div>
    </div>

    <!-- Center Column: Board -->
    <div class="col-center">
        <div class="score-display">
            <div id="score">0</div>
        </div>
        <main class="game-board-wrapper">
            <canvas id="game-canvas" width="300" height="600"></canvas>
            <div id="overlay" class="overlay hidden">
                <h1 id="overlay-title">PAUSED</h1>
                <p id="overlay-message">Press ESC to Resume</p>
                <button id="start-btn">START GAME</button>
            </div>
        </main>
    </div>

    <!-- Right Column: Next -> Drop -> Rot R -> Move R -->
    <div class="col-right">
        <div class="control-stack">
            <!-- 1. Next Display -->
            <div class="panel-box next-queue">
                <h2>NEXT</h2>
                <canvas id="next-canvas" width="60" height="120"></canvas>
            </div>

            <!-- 2. Drop (Down) -->
            <!-- User said: "Next (top), Drop (below), Rot R (below), Move R (bottom)"?
                     Wait, user said:
                     "Right side from bottom to top... Move Right -> Rotate Right -> Drop -> Next"
                     So Top to Bottom is: Next -> Drop -> Rotate Right -> Move Right.
                -->

            <button id="btn-down" class="control-btn d-btn drop-btn" aria-label="Drop">
                <svg viewBox="0 0 24 24" width="48" height="48">
                    <path fill="currentColor" d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z" />
                </svg>
            </button>

            <!-- 3. Rotate Right -->
            <button id="btn-rot-r" class="control-btn action-btn rot-btn" aria-label="Rotate Right">
                <svg viewBox="0 0 24 24" width="40" height="40">
                    <path fill="currentColor"
                        d="M15.55 5.55L11 1v3.07C7.06 4.56 4 7.92 4 12s3.05 7.44 7 7.93v-2.02c-2.84-.48-5-2.94-5-5.91s2.16-5.43 5-5.91V10l4.55-4.45zM19.93 11c-.17-1.39-.72-2.73-1.62-3.89l-1.42 1.42c.54.75.88 1.6 1.02 2.47h2.02zM13 17.9v2.02c1.39-.17 2.74-.71 3.9-1.61l-1.42-1.42c-.75.54-1.58.88-2.48 1.01zM17.91 13h2.02c-.17 1.39-.72 2.73-1.62 3.89l-1.42-1.42c.54-.75.88-1.6 1.02-2.47z" />
                </svg>
            </button>

            <!-- 4. Move Right -->
            <button id="btn-right" class="control-btn d-btn move-btn" aria-label="Right">
                <svg viewBox="0 0 24 24" width="48" height="48">
                    <path fill="currentColor" d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z" />
                </svg>
            </button>
        </div>
    </div>
    </div>
    <script type="module" src="src/main.js"></script>
</body>

</html>